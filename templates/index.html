<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <title>OpenCV & Python</title>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
   <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">

</head>

<body>

   {% with messages = get_flashed_messages() %}
   {% if messages %}
   <ul class=flashes>
      {% for message in messages %}
      <li>{{ message }}</li>
      {% endfor %}
   </ul>
   {% endif %}
   {% endwith %}

   <nav class="navbar navbar-dark bg-dark ">
      <a class="navbar-brand navbar-center" href="#">OpenCV & Python</a>
   </nav>

   <!-- <div class="container">
      <div class="starter-template">
         <h2>Test Marley Tiles</h2>
         <p>Upload an image</p>
         <p> Max Image Size: 7 MB </p>
      </div>
   </div> -->



   <div class="container">

      <div class="row">
         <div class="column" style="background-color:rgb(255, 255, 255);">
            <div class="kontainer">
               <div class="starter-template">
                  <h2>Test Marley Tiles</h2>
                  <p>Upload an image</p>
                  <p> Max Image Size: 7 MB </p>
               </div>
            </div>

            <div class="kontainer">
               <form method=post enctype=multipart/form-data>
                  <input type=file name=file onchange="loadFile(event)">
                  <input type=submit value=Upload class="btn btn-primary">
               </form>
               <img id="output" alt="" width="100%" height="100%" />
            </div>

            {% if data %}
            <h4>Uploaded Image</h4>
            <div style="background-color:rgb(255, 255, 255);">
               <img src="{{ data.uploaded_img }}" alt="input" width="60%" height="60%">
            </div>
            {% endif %}
         </div>

         {% if data %}
         <div class="column" style="background-color:rgb(255, 255, 255);">
            <div class="container">
            
            <h2>Standard Dimensions</h2>
            <!-- <img id="output" alt="" width="40%" height="40%" /> -->
            <img src = "static/tiledim.png" alt="static/tiledim.png" height="450px">
            
         </div>
         </div>
         {% endif %}
      </div>

   </div>




   

   <!-- processed -->
   {% if data %}

   <!-- <div class="container">
      <img src="{{ data.uploaded_img }}" alt="input" height="500px">
      <br>
      <br>
      <img src="{{ data.gray_img }}" alt="gray">
      <br>
      <br>
      <img src="{{ data.blurred_img }}" alt="blurred">
      <br>
      <br>
      <img src="{{ data.edged_img }}" alt="edged">
      <br>
      <br>
      <img src="{{ data.dilated_img }}" alt="dilated">
      <br>
      <br>
      <img src="{{ data.eroded_img }}" alt="eroded">
      <br>
      <br>
      <img src="{{ data.thresh_img }}" alt="thresh">
      <br>
      <br>
      <img src="{{ data.mask_img }}" alt="mask">
      <br>
      <br>
      <img src="{{ data.processed_img }}" alt="output" height="500px">
   </div> -->


   <!-- <div class="container">

      <div class="row">
         <div class="column" style="background-color:#aaa;">
            <div class="container">
               <h2>Detected Tiles</h2>
               <img src="{{ data.tilesdetected }}" alt="tilesdetected" width="100%" height="100%">
               <br>
               <br>
            </div>
            
         </div>
         <div class="column" style="background-color:#bbb;">
            <div class="container">
               <h2>Column 2</h2>
               <p>Some text..</p>
            </div>
         </div>
      </div>

   </div> -->

   <div class="container">
      <h2>Detected Tiles</h2>
      <img src="{{ data.tilesdetected }}" alt="tilesdetected" width="100%" height="100%">
      <br>
      <br>
   </div>

   <br>
   <br>

   <div class="container">
      <h2>Points / contours height</h2>
   {% for image in imagelist %}
   <img src = "static/downloads/processed/{{image}}" alt="{{image}}" width="100%" height="100%">
   <br>
   <br>
   {% endfor %}

   </div>

   <div class="container">
      <h2>All detected points</h2>
   <img src = "{{data.caio}}" alt="{{data.caio}}" width="100%" height="100%">
   <br>
   <br>

   </div>


   {% endif %}



   <script src="{{ url_for('static', filename='js/index.js') }}"></script>

</body>

</html>